---
import Footer from "@/components/footer.astro";
import Head from "@/components/head.astro";
import Header from "@/components/header.astro";
import "@/styles/global.css";
import type {
  TransitionAnimationPair,
  TransitionDirectionalAnimations,
} from "astro";

// import { slide } from "astro:transitions";

interface Props {
  title: string;
}

const { title } = Astro.props;

const anim = {
  old: {
    name: "bump",
    duration: "0.5s",
    easing: "ease-in",
    direction: "reverse",
  },
  new: {
    name: "bump",
    duration: "0.5s",
    easing: "ease-in-out",
  },
} satisfies TransitionAnimationPair;

const customTransition = {
  forwards: anim,
  backwards: anim,
} satisfies TransitionDirectionalAnimations;

// transition:animate={slide({ duration: "1.z5s" })}
---

<html lang="en" transition:name="root" transition:animate={customTransition}>
  <head>
    <Head />
    <title>{title}</title>
  </head>
  <body>
    <Header />
    <h1 class="text-4xl text-purple-600">{title}</h1>
    <slot />
    <Footer />
    <script>
      import "../scripts/menu.ts";

      // import { navigate } from "astro:transitions/client";

      // navigate('/', {  })
    </script>
  </body>
</html>

<style is:global>
  @keyframes bump {
    0% {
      opacity: 0;
      transform: scale(1) translateX(200px);
    }

    50% {
      opacity: 0.5;
      transform: scale(1.1);
    }

    100% {
      opacity: 1;
      transform: scale(1) translateX(0);
    }
  }
</style>
