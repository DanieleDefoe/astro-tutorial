---
import Main from "@/layouts/main.astro";
import type { GetStaticPaths, Page } from "astro";

export const getStaticPaths: GetStaticPaths = ({ paginate }) => {
  const astronautPages = [
    { astronaut: "Neil Armstrong" },
    { astronaut: "Buzz Aldrin" },
    { astronaut: "Sally Ride" },
    { astronaut: "John Glenn" },
    { astronaut: "John Glenn" },
    { astronaut: "John Glenn" },
    { astronaut: "John Glenn" },
    { astronaut: "John Glenn" },
    { astronaut: "John Glenn" },
    { astronaut: "John Glenn" },
  ];

  return paginate(astronautPages, { pageSize: 2 });
};

interface Props {
  page: Page;
}

const { page } = Astro.props;
---

<Main title={`Astronauts ${page.currentPage}`}>
  <h1>Page {page.currentPage}</h1>
  <ul>
    {page.data.map(({ astronaut }) => <li>{astronaut}</li>)}
  </ul>
  {page.url.first && <a href={page.url.first}>First</a>}
  {page.url.prev && <a href={page.url.prev}>Prev</a>}
  {page.url.next && <a href={page.url.next}>Next</a>}
  {page.url.last && <a href={page.url.last}>Last</a>}
</Main>
